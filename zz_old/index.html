<!DOCTYPE html>
<html>
 <head>
  <meta charset="UTF-8">
  <title>TTL: Web Audio API</title>
  <link href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/stylesheets/style.css" type="text/css">
 </head>
  <body>
  <div id="page-wrapper" class="container clearfix">
    <div id="info">
      <h1>Got Rhythm?</h1>
      <p>
        Click and drag the mouse over the synthesiser pad to generate a sound.
      </p>
      <p>
        Frequency: <span id="frequency">n/a</span>
      </p>
      <p>
        Volume: <span id="volume">n/a</span>
      </p>
      <div class="panel panel-default">
        <div class="panel-heading">
          <h3 class="panel-title">Track Loops</h3>
        </div>
        <div class="panel-body">
          <select id="loops" class="form-control">
            <option>None</option>
            <option>Daft-Punky Beat</option>
            <option>LegGo Piano Beat</option>
            <option>Spaced OWT Beat</option>
          </select>
        </div>
      </div>
      <div id="kit-dashboard" class="clearfix">
        <div id="drumkit">
          <div class="btn-group">
            <button class="btn btn-default" id="bass_hit">Bass</button>
            <button class="btn btn-default"id="kick_lo">Drum Kick-lo</button>
            <button class="btn btn-default" id="kick">Drum Kick</button>
            <button class="btn btn-default"id="snare">Snare</button>
          </div>
          <div class="btn-group">
            <button class="btn btn-default" id="clap">Clap</button>
            <button class="btn btn-default"id="clap_lo">Clap-lo</button>
            <button class="btn btn-default" id="cymbal">Cymbal</button>
            <button class="btn btn-default"id="hi_hat">Hi-hat</button>
          </div>
          <div class="btn-group">
            <button class="btn btn-default" id="horn">Horn</button>
            <button class="btn btn-default"id="horn_lo">Horn-lo</button>
            <button class="btn btn-default" id="synth_long">Synth-long</button>
            <button class="btn btn-default"id="synth_short">Synth-short</button>
          </div>
        </div> <!-- End Drumkit Container -->
      </div>
    </div>
    <h3 id="synth-title">DA SYNTHASIZER</h3>
    <canvas id="synth-pad"></canvas>
  </div>


  <script  type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js">
    </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js" type="text/javascript"></script>
  <script src="/socket.io/socket.io.js"></script>
  <script src="./scripts.js" type="text/javascript"></script>
  <script>
    // load the socket.io library above, the connect to the server
    // because the socket.io server is being run on the same server as your
    // express instance, you can connect() without any additional information
    var socket = io.connect(); // TIP: .connect with no args does auto-discovery

    // When beat clicked, show alert
    socket.on('drum_hit', function (e) {
      alert("Somebody rockin' dem beats!");
      //attempting to update the page automatically with an empty <p>
      // document.getElementById('realtime_tweetbox').innerHTML += "<p>more content</p>";
    });
  </script>
 </body>
</html>